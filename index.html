<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test</title>
    <link rel="stylesheet" href="main.css">
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script>
    var html = $();
    var families = {};
    $.getJSON("main.json", function(json) {
        var data = json;
        $.each(json, function(index, item){
            if ( item.docs.family !== undefined ) {
                if ( families[item.docs.family] === undefined ) {
                    families[item.docs.family] = [];
                    var $button = $('<button class="btn btn__link"></button>');
                    $button.text(item.docs.family);
                    $button.data('family-key', item.docs.family);
                    $button.data('index', index);
                    $button.on('focus', function(){
                        var key = $(this).data('family-key');
                        var index = $(this).data('index');
                        $('#temp').empty();
                        $.each(families[key], function(index, item){
                            $('#temp').append(item.code);
                            console.log(item.docs.name);
                        });
                        console.log('=============');
                    });
                    html = html.add($('<li class="list_item">').append($button));
                    families[item.docs.family].push(item);
                } else {
                    families[item.docs.family].push(item);
                }
            }
            if ( item.docs.patterns ) {
                $.each(item.docs.patterns, function(index, item){
                    // html += item.markup ? item.markup : '';
                });
            }
        });
        $('#nav').append(html);
    });
    </script>
</head>
<body style="padding:2em;">
    <div class="content content__1-3">
        <div class="content_sidebar">
            <ul class="list list__unstyled"
                id="nav">
            </ul>
        </div>
        <div class="content_main">
            <pre id="temp"></pre>
        </div>
    </div>
</body>
</html>
